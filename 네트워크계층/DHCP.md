# ðŸ“œ DHCP (Dynamic Host Configuration Protocol)

## ê°œìš”
DHCP(Dynamic Host Configuration Protocol)ëŠ” ë„¤íŠ¸ì›Œí¬ ê´€ë¦¬ í”„ë¡œí† ì½œë¡œ, IP ì£¼ì†Œì™€ ê¸°íƒ€ ë„¤íŠ¸ì›Œí¬ êµ¬ì„± ì •ë³´ë¥¼ ìžë™ìœ¼ë¡œ í• ë‹¹í•˜ì—¬, í´ë¼ì´ì–¸íŠ¸ê°€ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë˜ì—ˆì„ ë•Œ í•„ìš”í•œ ì„¤ì •ì„ ìžë™ìœ¼ë¡œ ì œê³µí•´ì¤ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë„¤íŠ¸ì›Œí¬ ê´€ë¦¬ìžëŠ” ìˆ˜ë™ìœ¼ë¡œ IP ì£¼ì†Œë¥¼ ì„¤ì •í•˜ì§€ ì•Šê³ ë„ ë§Žì€ ìž¥ì¹˜ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

## DHCP ë™ìž‘ ê³¼ì •
DHCPëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë„¤ ê°€ì§€ ë‹¨ê³„ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤: DHCP DISCOVER, DHCP OFFER, DHCP REQUEST, DHCP ACK.

### 1. DHCP DISCOVER
- **í´ë¼ì´ì–¸íŠ¸**: ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ëœ í›„, ìžì‹ ì—ê²Œ IP ì£¼ì†Œë¥¼ í• ë‹¹ë°›ê¸° ìœ„í•´ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë©”ì‹œì§€(DHCPDISCOVER)ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.
- **ë©”ì‹œì§€ ë‚´ìš©**: í´ë¼ì´ì–¸íŠ¸ì˜ MAC ì£¼ì†Œ, í•„ìš”í•œ êµ¬ì„± ì •ë³´

### 2. DHCP OFFER
- **DHCP ì„œë²„**: DHCPDISCOVER ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•œ í›„, ì‚¬ìš© ê°€ëŠ¥í•œ IP ì£¼ì†Œì™€ ê¸°íƒ€ êµ¬ì„± ì •ë³´ë¥¼ í¬í•¨í•œ DHCPOFFER ë©”ì‹œì§€ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë¸Œë¡œë“œìºìŠ¤íŠ¸ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.
- **ë©”ì‹œì§€ ë‚´ìš©**: ì œì•ˆëœ IP ì£¼ì†Œ, ì„œë¸Œë„· ë§ˆìŠ¤í¬, ë””í´íŠ¸ ê²Œì´íŠ¸ì›¨ì´, DNS ì„œë²„ ë“±

### 3. DHCP REQUEST
- **í´ë¼ì´ì–¸íŠ¸**: ì—¬ëŸ¬ DHCP ì„œë²„ë¡œë¶€í„° DHCPOFFER ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìžˆìœ¼ë¯€ë¡œ, ê·¸ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ DHCPREQUEST ë©”ì‹œì§€ë¥¼ ë¸Œë¡œë“œìºìŠ¤íŠ¸ë¡œ ì „ì†¡í•©ë‹ˆë‹¤. ì´ ë©”ì‹œì§€ëŠ” ì„ íƒëœ ì„œë²„ì™€ í• ë‹¹ë°›ì€ IP ì£¼ì†Œë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤.
- **ë©”ì‹œì§€ ë‚´ìš©**: ì„ íƒëœ DHCP ì„œë²„ì˜ IP ì£¼ì†Œ, ìš”ì²­ëœ IP ì£¼ì†Œ

### 4. DHCP ACK
- **DHCP ì„œë²„**: í´ë¼ì´ì–¸íŠ¸ì˜ DHCPREQUEST ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•œ í›„, IP ì£¼ì†Œ í• ë‹¹ì„ í™•ì¸í•˜ëŠ” DHCPACK ë©”ì‹œì§€ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤. ì´ë¡œì¨ í´ë¼ì´ì–¸íŠ¸ëŠ” ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì„ ì™„ë£Œí•˜ê³  IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆê²Œ ë©ë‹ˆë‹¤.
- **ë©”ì‹œì§€ ë‚´ìš©**: ìµœì¢…ì ìœ¼ë¡œ í• ë‹¹ëœ IP ì£¼ì†Œ, ìž„ëŒ€ ê¸°ê°„, ê¸°íƒ€ êµ¬ì„± ì •ë³´

```plaintext
DHCP ë™ìž‘ ê³¼ì •

í´ë¼ì´ì–¸íŠ¸                  DHCP ì„œë²„
  |                        |
  | DHCPDISCOVER          |
  |----------------------->|
  |                        |
  |    DHCPOFFER           |
  |<-----------------------|
  |                        |
  | DHCPREQUEST            |
  |----------------------->|
  |                        |
  |    DHCPACK             |
  |<-----------------------|
  |                        |
```

## DHCP ë©”ì‹œì§€ í˜•ì‹
DHCP ë©”ì‹œì§€ëŠ” ê³ ì •ëœ í˜•ì‹ìœ¼ë¡œ ì „ì†¡ë˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ í•„ë“œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:
- **OP**: ë©”ì‹œì§€ ìœ í˜• (1 = ìš”ì²­, 2 = ì‘ë‹µ)
- **htype**: í•˜ë“œì›¨ì–´ ìœ í˜• (ì˜ˆ: ì´ë”ë„·ì€ 1)
- **hlen**: í•˜ë“œì›¨ì–´ ì£¼ì†Œ ê¸¸ì´ (ì˜ˆ: ì´ë”ë„· ì£¼ì†ŒëŠ” 6)
- **hops**: ë¦´ë ˆì´ ì—ì´ì „íŠ¸ê°€ ì‚¬ìš©í•˜ëŠ” í™‰ ì¹´ìš´í„°
- **xid**: íŠ¸ëžœìž­ì…˜ ID, í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ê³¼ ì‘ë‹µì„ ë§¤ì¹­í•˜ëŠ” ë° ì‚¬ìš©
- **secs**: í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ì„ ì‹œìž‘í•œ ì´í›„ ê²½ê³¼ëœ ì‹œê°„
- **flags**: í”Œëž˜ê·¸ í•„ë“œ (ë¸Œë¡œë“œìºìŠ¤íŠ¸ í”Œëž˜ê·¸ í¬í•¨)
- **ciaddr**: í´ë¼ì´ì–¸íŠ¸ IP ì£¼ì†Œ (í´ë¼ì´ì–¸íŠ¸ê°€ ì´ë¯¸ IPë¥¼ ê°€ì§€ê³  ìžˆì„ ë•Œ ì‚¬ìš©)
- **yiaddr**: 'Your' IP ì£¼ì†Œ, í´ë¼ì´ì–¸íŠ¸ì—ê²Œ í• ë‹¹ëœ IP ì£¼ì†Œ
- **siaddr**: ì„œë²„ IP ì£¼ì†Œ, ë‹¤ìŒì— ë¶€íŠ¸ìŠ¤íŠ¸ëž©ì„ ë‹¤ìš´ë¡œë“œí•  ì„œë²„ì˜ ì£¼ì†Œ
- **giaddr**: ê²Œì´íŠ¸ì›¨ì´ IP ì£¼ì†Œ, ë¦´ë ˆì´ ì—ì´ì „íŠ¸ì˜ ì£¼ì†Œ
- **chaddr**: í´ë¼ì´ì–¸íŠ¸ í•˜ë“œì›¨ì–´ ì£¼ì†Œ (MAC ì£¼ì†Œ)
- **sname**: ì„œë²„ ì´ë¦„, ì˜µì…˜ (DHCP ì„œë²„ì˜ í˜¸ìŠ¤íŠ¸ ì´ë¦„)
- **file**: ë¶€íŠ¸ìŠ¤íŠ¸ëž© íŒŒì¼ ì´ë¦„, ì˜µì…˜ (ë¶€íŒ… ì‹œ ë‹¤ìš´ë¡œë“œí•  íŒŒì¼ ê²½ë¡œ)
- **options**: ì˜µì…˜ í•„ë“œ, DHCP ì˜µì…˜ (ì˜ˆ: ì„œë¸Œë„· ë§ˆìŠ¤í¬, ë¼ìš°í„°, DNS ë“±)

## DHCP ì˜µì…˜ í•„ë“œ
DHCP ì˜µì…˜ í•„ë“œëŠ” í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì¶”ê°€ì ì¸ êµ¬ì„± ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì£¼ìš” ì˜µì…˜ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
- **ì„œë¸Œë„· ë§ˆìŠ¤í¬ (Option 1)** : í´ë¼ì´ì–¸íŠ¸ì—ê²Œ í• ë‹¹ëœ ì„œë¸Œë„· ë§ˆìŠ¤í¬
- **ë¼ìš°í„° (Option 3)** : í´ë¼ì´ì–¸íŠ¸ì˜ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ IP ì£¼ì†Œ
- **DNS ì„œë²„ (Option 6)** : í´ë¼ì´ì–¸íŠ¸ê°€ ì‚¬ìš©í•  DNS ì„œë²„ì˜ IP ì£¼ì†Œ
- **ë„ë©”ì¸ ì´ë¦„ (Option 15)** : í´ë¼ì´ì–¸íŠ¸ì˜ ë„ë©”ì¸ ì´ë¦„
- **ìž„ëŒ€ ê¸°ê°„ (Option 51)** : í´ë¼ì´ì–¸íŠ¸ì—ê²Œ í• ë‹¹ëœ IP ì£¼ì†Œì˜ ìž„ëŒ€ ê¸°ê°„
- **DHCP ë©”ì‹œì§€ ìœ í˜• (Option 53)** : DHCP ë©”ì‹œì§€ì˜ ìœ í˜• (DISCOVER, OFFER, REQUEST, ACK ë“±)

## DHCP ìž„ëŒ€ ê³¼ì •
DHCPë¥¼ í†µí•´ í• ë‹¹ëœ IP ì£¼ì†ŒëŠ” ì˜êµ¬ì ì´ì§€ ì•Šìœ¼ë©°, ìž„ëŒ€ ê¸°ê°„ì´ ìžˆìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ìž„ëŒ€ ê¸°ê°„ì´ ë§Œë£Œë˜ê¸° ì „ì— IP ì£¼ì†Œë¥¼ ê°±ì‹ í•´ì•¼ í•©ë‹ˆë‹¤.

### IP ì£¼ì†Œ ê°±ì‹  ê³¼ì •
1. **T1 íƒ€ì´ë¨¸ (ìž„ëŒ€ ê¸°ê°„ì˜ 50%)** : í´ë¼ì´ì–¸íŠ¸ëŠ” DHCPREQUEST ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ì—¬ IP ì£¼ì†Œë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤.
2. **T2 íƒ€ì´ë¨¸ (ìž„ëŒ€ ê¸°ê°„ì˜ 87.5%)** : í´ë¼ì´ì–¸íŠ¸ê°€ T1 ê°±ì‹  ì‹œë„ì— ì‹¤íŒ¨í•œ ê²½ìš°, DHCPREQUEST ë©”ì‹œì§€ë¥¼ ë¸Œë¡œë“œìºìŠ¤íŠ¸ë¡œ ì „ì†¡í•˜ì—¬ ëª¨ë“  DHCP ì„œë²„ì— ê°±ì‹  ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
3. **ìž„ëŒ€ ê¸°ê°„ ë§Œë£Œ** : í´ë¼ì´ì–¸íŠ¸ê°€ T2 ê°±ì‹  ì‹œë„ì— ì‹¤íŒ¨í•˜ë©´, IP ì£¼ì†Œ ìž„ëŒ€ê°€ ë§Œë£Œë˜ê³  ë” ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

## DHCP ë¦´ë ˆì´ ì—ì´ì „íŠ¸
DHCP ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°€ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ì„¸ê·¸ë¨¼íŠ¸ì— ìžˆì„ ë•Œ, DHCPDISCOVER ë©”ì‹œì§€ë¥¼ DHCP ì„œë²„ì— ì „ë‹¬í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
- **ë¦´ë ˆì´ ì—ì´ì „íŠ¸** : DHCPDISCOVER ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•˜ì—¬ í•´ë‹¹ ë©”ì‹œì§€ë¥¼ DHCP ì„œë²„ë¡œ ì „ë‹¬í•˜ê³ , DHCP ì„œë²„ì˜ ì‘ë‹µì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬í•©ë‹ˆë‹¤.
