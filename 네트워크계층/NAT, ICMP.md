# 🌐 NAT (Network Address Translation)
네트워크 주소 변환(NAT)은 프라이빗 IP 주소를 공개 IP 주소로 변환하는 과정입니다.   
이는 주로 라우터에서 수행되며, 내부 네트워크와 외부 인터넷 간의 통신을 가능하게 합니다.

**기본 원리:**
- 내부 IP와 포트 번호를 외부 IP와 포트 번호로 매핑합니다.
- 이 매핑 정보는 NAT 테이블에 저장됩니다.

**NAT 유형:**
1. **정적 NAT:** 내부 IP 주소를 공개 IP 주소에 1:1로 고정적으로 매핑합니다.
2. **동적 NAT:** 내부 IP 주소를 사용 가능한 공개 IP 주소 풀에서 동적으로 매핑합니다.
3. **PAT (Port Address Translation):** 여러 내부 IP 주소를 하나의 공개 IP 주소로 매핑하되, 포트 번호를 사용하여 구분합니다.

```plaintext
예시:
내부 IP | 외부 IP
--------|---------
10.0.0.1 | 192.0.2.1
10.0.0.2 | 192.0.2.2
```
# 📡 ICMP (Internet Control Message Protocol)
인터넷 제어 메시지 프로토콜(ICMP)은 네트워크 장치 간의 오류 메시지 및 운영 정보를 전송하는 데 사용됩니다.  
이 프로토콜은 네트워크의 문제를 진단하고 조치를 취하는 데 중요합니다.

**주요 기능**:
- **목적지 도달 불가** : 라우터나 종단 호스트가 목적지에 도달할 수 없을 때 오류를 보고합니다.
- **시간 초과** : 패킷이 네트워크에서 너무 오래 돌았을 때 (예: TTL초과) 오류를 보고합니다.
- **파라미터 문제** : 잘못된 헤더 필드가 감지될 때 경고합니다.

**ICMP 메시지 예시** :
- **에코 요청 및 응답 (Ping)** : 네트워크 연결 상태를 확인합니다.
- **목적지 도달 불가 메시지** : 특정 목적지 또는 서비스에 접근할 수 없을 때 전송됩니다.

```plaintext
타입 | 코드 | 체크섬 | 추가 정보
----|----|------|---------
8   | 0  | XXXX | 데이터
```

### 🌐 traceroute 사용법

`traceroute`는 데이터 패킷이 소스 호스트에서 목적지 호스트까지 이동하는 경로를 추적하는 네트워크 진단 도구입니다. 네트워크 문제를 진단하고 경로 문제를 식별하는 데 사용됩니다.

### 작동 원리

1. **패킷 전송 시작**: TTL(Time-To-Live) 값을 1로 설정한 ICMP 패킷을 목적지로 보냅니다.
2. **TTL 만료 처리**: 각 라우터가 패킷을 수신할 때마다 TTL을 1씩 감소시킵니다. TTL이 0에 도달하면, 라우터는 패킷을 폐기하고 '시간 초과' ICMP 메시지를 소스로 반환합니다.
3. **응답 기록**: `traceroute`는 각 라우터의 응답을 기록하여, 해당 라우터의 IP 주소와 패킷이 그 위치까지 도달하는 데 걸린 시간을 측정합니다.
4. **TTL 증가**: TTL 값을 점진적으로 증가시키며 위 과정을 반복하고, 목적지에 도달하거나 설정된 최대 홉 수에 도달할 때까지 계속합니다.
5. **경로 출력**: 최종적으로 소스에서 목적지까지의 경로를 출력합니다.

### 사용 예시

터미널에서 다음과 같이 입력하여 사용할 수 있습니다:

```bash
traceroute example.com
```
