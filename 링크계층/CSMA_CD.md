# 🖥️ CSMA/CD (Carrier Sense Multiple Access with Collision Detection)

CSMA/CD는 이더넷 네트워크에서 다중 노드가 공유 매체에 접근할 때 충돌을 방지하고 효율적으로 데이터를 전송하기 위해 사용되는 프로토콜입니다.

## 📚 기본 개념

**CS (Carrier Sense)**: 노드는 데이터를 전송하기 전에 공유 매체를 감지하여 다른 노드가 데이터를 전송 중인지 확인합니다.

**MA (Multiple Access)**: 여러 노드가 동일한 전송 매체를 공유합니다.

**CD (Collision Detection)**: 데이터 전송 중 충돌이 발생하면 이를 감지하고 충돌을 해결하기 위한 절차를 수행합니다.

## 🛠️ 작동 원리

1. **캐리어 감지 (Carrier Sensing)**:
   - 노드는 데이터를 전송하기 전에 매체를 감지하여 다른 노드가 데이터를 전송 중인지 확인합니다.
   - 매체가 유휴 상태이면 데이터 전송을 시작합니다.
   - 매체가 사용 중이면 일정 시간 기다렸다가 다시 감지합니다.

2. **데이터 전송 (Data Transmission)**:
   - 매체가 유휴 상태인 경우, 노드는 데이터를 전송합니다.
   - 데이터 전송 중에도 노드는 지속적으로 매체를 감지하여 충돌이 발생하는지 확인합니다.

3. **충돌 감지 (Collision Detection)**:
   - 두 개 이상의 노드가 동시에 데이터를 전송하려고 하면 충돌이 발생합니다.
   - 노드는 충돌을 감지하면, 즉시 데이터 전송을 중단하고, 다른 노드에게 충돌이 발생했음을 알리는 신호를 전송합니다.

4. **충돌 후 절차 (Post-collision Procedure)**:
   - 충돌이 발생하면, 노드는 데이터를 재전송하기 전에 일정 시간을 기다립니다.
   - 기다리는 시간은 랜덤하게 결정되며, 이를 **이진 지수 백오프 (Binary Exponential Backoff)** 알고리즘이라고 합니다.

## ⚙️ 이진 지수 백오프 (Binary Exponential Backoff) 알고리즘

- 충돌이 발생하면 노드는 재전송 시도 전에 랜덤한 시간 동안 대기합니다.
- 충돌 횟수에 따라 대기 시간의 범위가 지수적으로 증가합니다.
- 예를 들어, n번째 충돌이 발생한 경우, 노드는 0에서 \(2^n - 1\) 슬롯 시간 중 하나를 랜덤하게 선택하여 대기합니다.
- 슬롯 시간 (Slot Time)은 네트워크에서 최악의 충돌 상황을 감지할 수 있는 최대 시간입니다.

### 📊 이진 지수 백오프 예시

1. **첫 번째 충돌 (n=1)**:
   - 0 또는 1 슬롯 시간 동안 대기 (0, 1 중 랜덤 선택).

2. **두 번째 충돌 (n=2)**:
   - 0, 1, 2 또는 3 슬롯 시간 동안 대기 (0, 1, 2, 3 중 랜덤 선택).

3. **세 번째 충돌 (n=3)**:
   - 0에서 7 슬롯 시간 동안 대기 (0, 1, 2, 3, 4, 5, 6, 7 중 랜덤 선택).

4. **최대 충돌 횟수 도달 (n=10 이상)**:
   - 0에서 1023 슬롯 시간 동안 대기 (0, 1, ..., 1023 중 랜덤 선택).

## 🔄 전체 과정 요약

1. 노드는 매체를 감지하여 유휴 상태를 확인합니다.
2. 매체가 유휴 상태이면 데이터를 전송합니다.
3. 데이터 전송 중 충돌이 발생하면, 노드는 즉시 전송을 중단하고 충돌 신호를 보냅니다.
4. 노드는 이진 지수 백오프 알고리즘을 사용하여 랜덤한 시간 동안 대기한 후 재전송을 시도합니다.
5. 이 과정을 반복하여 데이터를 성공적으로 전송할 때까지 시도합니다.

## 🌟 CSMA/CD의 장단점

**장점**:
- 단순한 구현과 효과적인 충돌 해결 방식.
- 충돌이 발생하더라도 빠르게 감지하고 해결할 수 있음.

**단점**:
- 네트워크 트래픽이 많을 경우 충돌이 빈번하게 발생하여 성능 저하.
- 대규모 네트워크에서는 비효율적일 수 있음.

CSMA/CD는 이더넷 네트워크의 기본 프로토콜로, 네트워크의 효율적인 데이터 전송을 지원합니다. 이를 통해 다수의 노드가 동시에 매체에 접근할 때 발생할 수 있는 충돌을 효과적으로 관리할 수 있습니다.
